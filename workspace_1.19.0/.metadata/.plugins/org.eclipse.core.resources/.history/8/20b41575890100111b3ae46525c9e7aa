#include "gpio_driver.h"

int main()
{
    GPIOA_CLK_EN();
    GPIOC_CLK_EN();

    // PA5 = LED output
    GPIO_Init(GPIOA, 5, GPIO_MODE_OUTPUT,
              GPIO_OTYPE_PP, GPIO_SPEED_LOW, GPIO_NO_PUPD);

    // PC13 = Button input
    GPIO_Init(GPIOC, 13, GPIO_MODE_INPUT,
              GPIO_OTYPE_PP, GPIO_SPEED_LOW, GPIO_NO_PUPD);

    while(1)
    {
        if(GPIO_ReadPin(GPIOC, 13) == 0)   // Button pressed
        {
        	GPIO_WritePin(GPIOA, 5, 1);
        }
        else
        {
        	GPIO_WritePin(GPIOA, 5, 0);
        }
    }
}
